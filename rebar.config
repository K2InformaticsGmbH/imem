%%-*- mode: erlang -*-
%% ex: ft=erlang
{cover_enabled, true}.
{cover_excl_mods, [filename]}.

{ct_cover, true}.
{ct_verbose, true}.

{deps, [
    {erlscrypt, {git, "https://github.com/K2InformaticsGmbH/erlscrypt.git", {branch, master}}},
    {goldrush,  {git, "https://github.com/K2InformaticsGmbH/goldrush.git", {tag, "0.1.9"}}},
    {jsx,       {git, "https://github.com/K2InformaticsGmbH/jsx.git", {tag, "v2.8.2"}}},
    {lager,     {git, "https://github.com/K2InformaticsGmbH/lager.git", {tag, "3.4.2"}}},
    {ranch,     {git, "https://github.com/K2InformaticsGmbH/ranch.git", {tag, "1.3.2"}}},
    {sext,      {git, "https://github.com/K2InformaticsGmbH/sext.git", {ref, "d22aac7eee5cc5934af9c5191f2ff2f94bbaafb2"}}},
    {sqlparse,  {git, "https://github.com/K2InformaticsGmbH/sqlparse.git", {tag, "2.1.0"}}}
]}.

{erl_first_files, ["src/imem_rec_pretty_pt.erl"]}.

{erl_opts, [{parse_transform, lager_transform}]}.

{eunit_compile_opts, [{d,'USE_THOUSAND_SEP'}]}.
{eunit_opts, [
    {skip_deps, true},
    verbose
]}.

{recursive_cmds, [clean, eunit]}.

{xref_checks, [
    deprecated_functions,
    deprecated_function_calls,
    exports_not_used,
    locals_not_used,
    undefined_functions,
    undefined_function_calls
]}.


{post_hooks, [{"linux|darwin", compile, "./post_compile.sh"}]}.
